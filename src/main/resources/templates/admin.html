<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org ">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="css/admin.css">
    <link rel="stylesheet" type="text/css" href="css/overlay.css">
    <title>图书管理系统 - 控制台</title>
</head>
<body>
<div id="logout" class="overlay" style="display: none;">
    <div class="overlay-content">
        <p>确认要登出吗？</p>
        <a th:href="@{/logout}" style="text-decoration: none;">
            <button>✅ 确认</button>
        </a>
        <button onclick="closeOverlay('logout')">❌ 取消</button>
    </div>
</div>
<div class="sidebar">
    <h2>功能菜单</h2>
    <button class="nav-btn active" onclick="showSection('dashboard')">📊 控制台首页</button>
    <button class="nav-btn" onclick="showSection('books')">📚 图书管理</button>
    <button class="nav-btn" onclick="showSection('borrow')">📖 借阅记录</button>
    <button class="nav-btn" onclick="showSection('users')">👤 用户管理</button>
    <button class="nav-btn" onclick="showSection('settings')">⚙️ 管理员账户管理</button>
    <button class="nav-btn" onclick="logout()">🔓 退出登录</button>
</div>

<div class="main-content">
    <div id="dashboard" class="content-section active">
        <h3>📊 控制台首页</h3>
        <h2>欢迎登录图书管理系统。</h2>
        <p>这里是管理员控制界面</p>
    </div>

    <div id="books" class="content-section">
        <h3>📚 图书管理</h3>
        <button class="add-book-btn">➕ 添加书籍</button>

        <div class="book-list">
            <div class="book-card" th:each="book : ${books}">
                <div class="book-info">
                    <div class="book-title" th:text="${book.bookName}">书名</div>
                    <div class="book-meta">
                        <span th:text="'作者：' + ${book.author}">作者</span>
                        <span th:text="'类型：' + ${book.bookType}">类型</span>
                        <span th:text="'出版社：' + ${book.publisher}">出版社</span>
                        <span th:text="'数量：' + ${book.bookNumber}">数量</span>
                    </div>
                </div>
                <div class="book-actions">
                    <button class="action-btn">✏️ 编辑</button>
                    <button class="action-btn danger">🗑 删除</button>
                </div>
            </div>
        </div>
    </div>


    <div id="borrow" class="content-section">
        <h3>📖 借阅记录</h3>
        <p>查看所有图书的借出与归还记录。</p>
    </div>

    <div id="users" class="content-section">
        <h3>👥 用户管理</h3>
        <button class="add-user-btn">➕ 添加用户</button>

        <div class="user-list">
            <div class="user-card" th:each="user : ${users}">
                <div class="user-info">
                    <div class="user-name" th:text="${user.username}">用户名</div>
                    <div class="user-meta">
                        <span th:text="'手机号：' + ${user.phone}">手机号</span>
                        <span th:text="'邮箱：' + ${user.email}">邮箱</span>
                    </div>
                </div>
                <div class="user-actions">
                    <button class="action-btn">🔧 编辑</button>
                    <button class="action-btn danger">❌ 删除</button>
                </div>
            </div>
        </div>
    </div>


    <div id="settings" class="content-section">
        <h3>⚙️ 管理员账户管理</h3>
        <button onclick="toggleChangeUsername()">修改用户名</button>
        <button onclick="toggleChangePassword()">修改密码</button>
        <form id="changeUsername" action="/changeAdminUsername" method="post" style="display: none;">
            <input id="username" type="text" placeholder="新用户名"/>
            <button type="submit">提交</button>
        </form>
        <form id="changePassword" action="/changeAdminPassword" method="post" style="display: none;">
            <input id="password1" type="password" placeholder="新密码" /><br>
            <input id="password2" type="password" placeholder="确认密码" /><br>
            <button type="submit">提交</button>
        </form>
    </div>
</div>

<script src="js/admin.js"> </script>
</body>
</html>
